{
    "id": "maximum-subarray",
    "title": "Maximum Subarray",
    "description": "Given an integer array nums, find the subarray with the largest sum, and return its sum.",
    "examples": [
        {
            "input": "nums = [-2,1,-3,4,-1,2,1,-5,4]",
            "output": "6",
            "explanation": "The subarray [4,-1,2,1] has the largest sum 6."
        },
        {
            "input": "nums = [1]",
            "output": "1",
            "explanation": "The subarray [1] has the largest sum 1."
        }
    ],
    "constraints": [
        "1 <= nums.length <= 10^5",
        "-10^4 <= nums[i] <= 10^4"
    ],
    "difficulty": "Medium",
    "topic": "Greedy",
    "strategies": {
        "brute-force": {
            "id": "brute-force",
            "name": "Brute Force",
            "description": "Iteratively check every possible subarray using nested loops to find the maximum sum.",
            "steps": [
                {
                    "id": 1,
                    "instruction": "Define the function max_sub_array that takes nums.",
                    "placeholderCode": "def max_sub_array(nums):",
                    "validationRegex": "^def\\s+max_sub_array\\(nums\\):$",
                    "hint": "Use `def` to define the function.",
                    "solutionCode": "def max_sub_array(nums):"
                },
                {
                    "id": 2,
                    "instruction": "Initialize max_sum with the first element of the array.",
                    "placeholderCode": "    max_sum = nums[0]",
                    "validationRegex": "^\\s+max_sum\\s*=\\s*nums\\[0\\]$",
                    "hint": "Initialize max_sum with the first element.",
                    "solutionCode": "    max_sum = nums[0]"
                },
                {
                    "id": 3,
                    "instruction": "Use nested loops to calculate the sum of every possible subarray (i, j) and update max_sum if the current sum is greater.",
                    "placeholderCode": "    for i in range(len(nums)):\n        curr = 0\n        for j in range(i, len(nums)):\n            curr += nums[j]\n            max_sum = max(max_sum, curr)",
                    "validationRegex": "^\\s+for\\s+i\\s+in\\s+range\\(len\\(nums\\)\\):\\s*curr\\s*=\\s*0\\s*for\\s+j\\s+in\\s+range\\(i,\\s*len\\(nums\\)\\):\\s*curr\\s*\\+=\\s*nums\\[j\\]\\s*max_sum\\s*=\\s*max\\(max_sum,\\s*curr\\)$",
                    "hint": "Outer loop for start index, inner loop for end index.",
                    "solutionCode": "    for i in range(len(nums)):\n        curr = 0\n        for j in range(i, len(nums)):\n            curr += nums[j]\n            max_sum = max(max_sum, curr)"
                },
                {
                    "id": 4,
                    "instruction": "Return the final maximum sum found.",
                    "placeholderCode": "    return max_sum",
                    "validationRegex": "^\\s+return\\s+max_sum$",
                    "hint": "Return the maximum sum.",
                    "solutionCode": "    return max_sum"
                }
            ]
        },
        "optimal": {
            "id": "optimal",
            "name": "Optimal",
            "description": "Use Kadane's Algorithm to find the maximum subarray sum in linear time O(n).",
            "steps": [
                {
                    "id": 1,
                    "instruction": "Define the function max_sub_array that takes nums.",
                    "placeholderCode": "def max_sub_array(nums):",
                    "validationRegex": "^def\\s+max_sub_array\\(nums\\):$",
                    "hint": "Use `def` to define the function.",
                    "solutionCode": "def max_sub_array(nums):"
                },
                {
                    "id": 2,
                    "instruction": "Initialize max_sum with the first element of the array to handle cases with all negative numbers.",
                    "placeholderCode": "    max_sum = nums[0]",
                    "validationRegex": "^\\s+max_sum\\s*=\\s*nums\\[0\\]$",
                    "hint": "We start with the first element as our initial maximum.",
                    "solutionCode": "    max_sum = nums[0]"
                },
                {
                    "id": 3,
                    "instruction": "Initialize curr_sum to 0 to keep track of the current subarray sum.",
                    "placeholderCode": "    curr_sum = 0",
                    "validationRegex": "^\\s+curr_sum\\s*=\\s*0$",
                    "hint": "We'll add elements to this as we iterate.",
                    "solutionCode": "    curr_sum = 0"
                },
                {
                    "id": 4,
                    "instruction": "Iterate through each number in nums, resetting curr_sum to 0 if it becomes negative before adding the current number.",
                    "placeholderCode": "    for n in nums:\n        if curr_sum < 0:\n            curr_sum = 0\n        curr_sum += n\n        max_sum = max(max_sum, curr_sum)",
                    "validationRegex": "^\\s+for\\s+n\\s+in\\s+nums:\\s*if\\s+curr_sum\\s*<\\s*0:\\s*curr_sum\\s*=\\s*0\\s*curr_sum\\s*\\+=\\s*n\\s*max_sum\\s*=\\s*max\\(max_sum,\\s*curr_sum\\)$",
                    "hint": "If curr_sum < 0, it means the current prefix will only decrease any future sum, so we discard it by resetting to 0.",
                    "solutionCode": "    for n in nums:\n        if curr_sum < 0:\n            curr_sum = 0\n        curr_sum += n\n        max_sum = max(max_sum, curr_sum)"
                },
                {
                    "id": 5,
                    "instruction": "Return the final maximum sum stored in max_sum.",
                    "placeholderCode": "    return max_sum",
                    "validationRegex": "^\\s+return\\s+max_sum$",
                    "hint": "Return the result.",
                    "solutionCode": "    return max_sum"
                }
            ]
        }
    }
}