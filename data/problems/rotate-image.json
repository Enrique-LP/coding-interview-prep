{
    "id": "rotate-image",
    "title": "Rotate Image",
    "description": "You are given an n x n 2D matrix representing an image, rotate the image by 90 degrees (clockwise). You have to rotate the image in-place, which means you have to modify the input 2D matrix directly. DO NOT allocate another 2D matrix and do the rotation.",
    "examples": [
        {
            "input": "matrix = [[1,2,3],[4,5,6],[7,8,9]]",
            "output": "[[7,4,1],[8,5,2],[9,6,3]]"
        },
        {
            "input": "matrix = [[5,1,9,11],[2,4,8,10],[13,3,6,7],[15,14,12,16]]",
            "output": "[[15,13,2,5],[14,3,4,1],[12,6,8,9],[16,7,10,11]]"
        }
    ],
    "constraints": [
        "n == matrix.length == matrix[i].length",
        "1 <= n <= 20",
        "-1000 <= matrix[i][j] <= 1000"
    ],
    "difficulty": "Medium",
    "topic": "Math & Geometry",
    "strategies": {
        "brute-force": {
            "id": "brute-force",
            "name": "Brute Force",
            "description": "Create a new matrix and map values. (Not allowed by problem statement but good for understanding)",
            "steps": [
                {
                    "id": 1,
                    "instruction": "Define the function rotate that takes matrix.",
                    "placeholderCode": "def rotate(matrix):",
                    "validationRegex": "^def\\s+rotate\\(matrix\\):$",
                    "hint": "Use `def` to define the function.",
                    "solutionCode": "def rotate(matrix):"
                },
                {
                    "id": 2,
                    "instruction": "Create new matrix.",
                    "placeholderCode": "    n = len(matrix)\n    res = [[0] * n for _ in range(n)]",
                    "validationRegex": "^\\s+n\\s*=\\s*len\\(matrix\\)\\s*res\\s*=\\s*\\[\\[0\\]\\s*\\*\\s*n\\s+for\\s+_\\s+in\\s+range\\(n\\)\\]$",
                    "hint": "Create a new n x n matrix initialized with zeros.",
                    "solutionCode": "    n = len(matrix)\n    res = [[0] * n for _ in range(n)]"
                },
                {
                    "id": 3,
                    "instruction": "Map values.",
                    "placeholderCode": "    for r in range(n):\n        for c in range(n):\n            res[c][n - 1 - r] = matrix[r][c]",
                    "validationRegex": "^\\s+for\\s+r\\s+in\\s+range\\(n\\):\\s*for\\s+c\\s+in\\s+range\\(n\\):\\s*res\\[c\\]\\[n\\s*-\\s*1\\s*-\\s*r\\]\\s*=\\s*matrix\\[r\\]\\[c\\]$",
                    "hint": "Map each element `matrix[r][c]` to its new position `res[c][n - 1 - r]`.",
                    "solutionCode": "    for r in range(n):\n        for c in range(n):\n            res[c][n - 1 - r] = matrix[r][c]"
                },
                {
                    "id": 4,
                    "instruction": "Copy back to original matrix.",
                    "placeholderCode": "    for r in range(n):\n        for c in range(n):\n            matrix[r][c] = res[r][c]",
                    "validationRegex": "^\\s+for\\s+r\\s+in\\s+range\\(n\\):\\s*for\\s+c\\s+in\\s+range\\(n\\):\\s*matrix\\[r\\]\\[c\\]\\s*=\\s*res\\[r\\]\\[c\\]$",
                    "hint": "Copy the values from the new matrix back to the original matrix.",
                    "solutionCode": "    for r in range(n):\n        for c in range(n):\n            matrix[r][c] = res[r][c]"
                }
            ]
        },
        "optimal": {
            "id": "optimal",
            "name": "Optimal",
            "description": "Rotate layer by layer or transpose then reverse.",
            "steps": [
                {
                    "id": 1,
                    "instruction": "Define the function rotate that takes matrix.",
                    "placeholderCode": "def rotate(matrix):",
                    "validationRegex": "^def\\s+rotate\\(matrix\\):$",
                    "hint": "Use `def` to define the function.",
                    "solutionCode": "def rotate(matrix):"
                },
                {
                    "id": 2,
                    "instruction": "Get the size of the matrix n.",
                    "placeholderCode": "    n = len(matrix)",
                    "validationRegex": "^\\s+n\\s*=\\s*len\\(matrix\\)$",
                    "hint": "Use len(matrix) to get the size.",
                    "solutionCode": "    n = len(matrix)"
                },
                {
                    "id": 3,
                    "instruction": "Iterate through each row i to begin the transposition.",
                    "placeholderCode": "    for i in range(n):",
                    "validationRegex": "^\\s+for\\s+i\\s+in\\s+range\\(n\\):$",
                    "hint": "Use a for loop for i from 0 to n-1.",
                    "solutionCode": "    for i in range(n):"
                },
                {
                    "id": 4,
                    "instruction": "Iterate through each column j starting from i to the end of the row.",
                    "placeholderCode": "        for j in range(i, n):",
                    "validationRegex": "^\\s+for\\s+j\\s+in\\s+range\\(i,\\s*n\\):$",
                    "hint": "Use a nested for loop for j from i to n-1.",
                    "solutionCode": "        for j in range(i, n):"
                },
                {
                    "id": 5,
                    "instruction": "Swap the elements at matrix[i][j] and matrix[j][i].",
                    "placeholderCode": "            matrix[i][j], matrix[j][i] = matrix[j][i], matrix[i][j]",
                    "validationRegex": "^\\s+matrix\\[i\\]\\[j\\],\\s*matrix\\[j\\]\\[i\\]\\s*=\\s*matrix\\[j\\]\\[i\\],\\s*matrix\\[i\\]\\[j\\]$",
                    "hint": "Perform an in-place swap of the elements.",
                    "solutionCode": "            matrix[i][j], matrix[j][i] = matrix[j][i], matrix[i][j]"
                },
                {
                    "id": 6,
                    "instruction": "Iterate through each row to reverse its elements.",
                    "placeholderCode": "    for i in range(n):",
                    "validationRegex": "^\\s+for\\s+i\\s+in\\s+range\\(n\\):$",
                    "hint": "Iterate through the rows again.",
                    "solutionCode": "    for i in range(n):"
                },
                {
                    "id": 7,
                    "instruction": "Reverse the current row.",
                    "placeholderCode": "        matrix[i].reverse()",
                    "validationRegex": "^\\s+matrix\\[i\\]\\.reverse\\(\\)$",
                    "hint": "Use the built-in reverse() method on the row.",
                    "solutionCode": "        matrix[i].reverse()"
                }
            ]
        }
    }
}