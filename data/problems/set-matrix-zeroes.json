{
    "id": "set-matrix-zeroes",
    "title": "Set Matrix Zeroes",
    "description": "Given an m x n integer matrix matrix, if an element is 0, set its entire row and column to 0's. You must do it in place.",
    "examples": [
        {
            "input": "matrix = [[1,1,1],[1,0,1],[1,1,1]]",
            "output": "[[1,0,1],[0,0,0],[1,0,1]]"
        },
        {
            "input": "matrix = [[0,1,2,0],[3,4,5,2],[1,3,1,5]]",
            "output": "[[0,0,0,0],[0,4,5,0],[0,3,1,0]]"
        }
    ],
    "constraints": [
        "m == matrix.length",
        "n == matrix[0].length",
        "1 <= m, n <= 200",
        "-2^31 <= matrix[i][j] <= 2^31 - 1"
    ],
    "difficulty": "Medium",
    "topic": "Math & Geometry",
    "strategies": {
        "brute-force": {
            "id": "brute-force",
            "name": "Brute Force",
            "description": "Use sets to store rows and cols to zero out.",
            "steps": [
                {
                    "id": 1,
                    "instruction": "Define the function set_zeroes that takes matrix.",
                    "placeholderCode": "def set_zeroes(matrix):",
                    "validationRegex": "^def\\s+set_zeroes\\(matrix\\):$",
                    "hint": "Use `def` to define the function.",
                    "solutionCode": "def set_zeroes(matrix):"
                },
                {
                    "id": 2,
                    "instruction": "Identify rows and cols with zeros.",
                    "placeholderCode": "    rows, cols = len(matrix), len(matrix[0])\n    zero_rows, zero_cols = set(), set()\n    for r in range(rows):\n        for c in range(cols):\n            if matrix[r][c] == 0:\n                zero_rows.add(r)\n                zero_cols.add(c)",
                    "validationRegex": "^\\s+rows,\\s*cols\\s*=\\s*len\\(matrix\\),\\s*len\\(matrix\\[0\\]\\)\\s*zero_rows,\\s*zero_cols\\s*=\\s*set\\(\\),\\s*set\\(\\)\\s*for\\s+r\\s+in\\s+range\\(rows\\):\\s*for\\s+c\\s+in\\s+range\\(cols\\):\\s*if\\s+matrix\\[r\\]\\[c\\]\\s*==\\s*0:\\s*zero_rows\\.add\\(r\\)\\s*zero_cols\\.add\\(c\\)$",
                    "hint": "Iterate through the matrix and store the indices of rows and columns that contain 0.",
                    "solutionCode": "    rows, cols = len(matrix), len(matrix[0])\n    zero_rows, zero_cols = set(), set()\n    for r in range(rows):\n        for c in range(cols):\n            if matrix[r][c] == 0:\n                zero_rows.add(r)\n                zero_cols.add(c)"
                },
                {
                    "id": 3,
                    "instruction": "Set rows and cols to zero.",
                    "placeholderCode": "    for r in range(rows):\n        for c in range(cols):\n            if r in zero_rows or c in zero_cols:\n                matrix[r][c] = 0",
                    "validationRegex": "^\\s+for\\s+r\\s+in\\s+range\\(rows\\):\\s*for\\s+c\\s+in\\s+range\\(cols\\):\\s*if\\s+r\\s+in\\s+zero_rows\\s+or\\s+c\\s+in\\s+zero_cols:\\s*matrix\\[r\\]\\[c\\]\\s*=\\s*0$",
                    "hint": "Iterate through the matrix again and set elements to 0 if their row or column index is in the stored sets.",
                    "solutionCode": "    for r in range(rows):\n        for c in range(cols):\n            if r in zero_rows or c in zero_cols:\n                matrix[r][c] = 0"
                }
            ]
        },
        "optimal": {
            "id": "optimal",
            "name": "Optimal",
            "description": "Use first row and col as markers.",
            "steps": [
                {
                    "id": 1,
                    "instruction": "Define the function set_zeroes that takes matrix.",
                    "placeholderCode": "def set_zeroes(matrix):",
                    "validationRegex": "^def\\s+set_zeroes\\(matrix\\):$",
                    "hint": "Use `def` to define the function.",
                    "solutionCode": "def set_zeroes(matrix):"
                },
                {
                    "id": 2,
                    "instruction": "Get the number of rows in the matrix.",
                    "placeholderCode": "    rows = len(matrix)",
                    "validationRegex": "^\\s+rows\\s*=\\s*len\\(matrix\\)$",
                    "hint": "Use len(matrix).",
                    "solutionCode": "    rows = len(matrix)"
                },
                {
                    "id": 3,
                    "instruction": "Get the number of columns in the matrix.",
                    "placeholderCode": "    cols = len(matrix[0])",
                    "validationRegex": "^\\s+cols\\s*=\\s*len\\(matrix\\[0\\]\\)$",
                    "hint": "Use len(matrix[0]).",
                    "solutionCode": "    cols = len(matrix[0])"
                },
                {
                    "id": 4,
                    "instruction": "Initialize a flag to False to track if the first row should be zeroed.",
                    "placeholderCode": "    row_zero = False",
                    "validationRegex": "^\\s+row_zero\\s*=\\s*False$",
                    "hint": "Initialize row_zero = False.",
                    "solutionCode": "    row_zero = False"
                },
                {
                    "id": 5,
                    "instruction": "Iterate through each row index r.",
                    "placeholderCode": "    for r in range(rows):",
                    "validationRegex": "^\\s+for\\s+r\\s+in\\s+range\\(rows\\):$",
                    "hint": "Use a for loop for r from 0 to rows-1.",
                    "solutionCode": "    for r in range(rows):"
                },
                {
                    "id": 6,
                    "instruction": "Iterate through each column index c.",
                    "placeholderCode": "        for c in range(cols):",
                    "validationRegex": "^\\s+for\\s+c\\s+in\\s+range\\(cols\\):$",
                    "hint": "Use a nested for loop for c from 0 to cols-1.",
                    "solutionCode": "        for c in range(cols):"
                },
                {
                    "id": 7,
                    "instruction": "Check if the current element is 0.",
                    "placeholderCode": "            if matrix[r][c] == 0:",
                    "validationRegex": "^\\s+if\\s+matrix\\[r\\]\\[c\\]\\s*==\\s*0:$",
                    "hint": "Use an if statement to check the element.",
                    "solutionCode": "            if matrix[r][c] == 0:"
                },
                {
                    "id": 8,
                    "instruction": "Mark the corresponding column in the first row by setting matrix[0][c] to 0.",
                    "placeholderCode": "                matrix[0][c] = 0",
                    "validationRegex": "^\\s+matrix\\[0\\]\\[c\\]\\s*=\\s*0$",
                    "hint": "This marks that column c must be zeroed.",
                    "solutionCode": "                matrix[0][c] = 0"
                },
                {
                    "id": 9,
                    "instruction": "Check if the row index r is greater than 0.",
                    "placeholderCode": "                if r > 0:",
                    "validationRegex": "^\\s+if\\s+r\\s*>\\s*0:$",
                    "hint": "Use an if statement to check r.",
                    "solutionCode": "                if r > 0:"
                },
                {
                    "id": 10,
                    "instruction": "Mark the corresponding row in the first column by setting matrix[r][0] to 0.",
                    "placeholderCode": "                    matrix[r][0] = 0",
                    "validationRegex": "^\\s+matrix\\[r\\]\\[0\\]\\s*=\\s*0$",
                    "hint": "This marks that row r must be zeroed.",
                    "solutionCode": "                    matrix[r][0] = 0"
                },
                {
                    "id": 11,
                    "instruction": "Otherwise, if r is 0, set the row_zero flag to True.",
                    "placeholderCode": "                else:\n                    row_zero = True",
                    "validationRegex": "^\\s+else:\\s*row_zero\\s*=\\s*True$",
                    "hint": "Handle the first row case separately.",
                    "solutionCode": "                else:\n                    row_zero = True"
                },
                {
                    "id": 12,
                    "instruction": "Iterate through each row starting from index 1.",
                    "placeholderCode": "    for r in range(1, rows):",
                    "validationRegex": "^\\s+for\\s+r\\s+in\\s+range\\(1,\\s*rows\\):$",
                    "hint": "Use a for loop for r from 1 to rows-1.",
                    "solutionCode": "    for r in range(1, rows):"
                },
                {
                    "id": 13,
                    "instruction": "Iterate through each column starting from index 1.",
                    "placeholderCode": "        for c in range(1, cols):",
                    "validationRegex": "^\\s+for\\s+c\\s+in\\s+range\\(1,\\s*cols\\):$",
                    "hint": "Use a nested for loop for c from 1 to cols-1.",
                    "solutionCode": "        for c in range(1, cols):"
                },
                {
                    "id": 14,
                    "instruction": "Check if either the column or the row is marked with a 0.",
                    "placeholderCode": "            if matrix[0][c] == 0 or matrix[r][0] == 0:",
                    "validationRegex": "^\\s+if\\s+matrix\\[0\\]\\[c\\]\\s*==\\s*0\\s+or\\s+matrix\\[r\\]\\[0\\]\\s*==\\s*0:$",
                    "hint": "Check the markers in the first row and first column.",
                    "solutionCode": "            if matrix[0][c] == 0 or matrix[r][0] == 0:"
                },
                {
                    "id": 15,
                    "instruction": "Set the current cell matrix[r][c] to 0 if marked.",
                    "placeholderCode": "                matrix[r][c] = 0",
                    "validationRegex": "^\\s+matrix\\[r\\]\\[c\\]\\s*=\\s*0$",
                    "hint": "Set the cell value to 0.",
                    "solutionCode": "                matrix[r][c] = 0"
                },
                {
                    "id": 16,
                    "instruction": "Finally, zero out the first row and column separately if needed.",
                    "placeholderCode": "    if matrix[0][0] == 0:\n        for r in range(rows): matrix[r][0] = 0\n    if row_zero:\n        for c in range(cols): matrix[0][c] = 0",
                    "validationRegex": "^\\s+if\\s+matrix\\[0\\]\\[0\\]\\s*==\\s*0:\\s*for\\s+r\\s+in\\s+range\\(rows\\):\\s*matrix\\[r\\]\\[0\\]\\s*=\\s*0\\s*if\\s+row_zero:\\s*for\\s+c\\s+in\\s+range\\(cols\\):\\s*matrix\\[0\\]\\[c\\]\\s*=\\s*0$",
                    "hint": "Handle the first row/col markers.",
                    "solutionCode": "    if matrix[0][0] == 0:\n        for r in range(rows): matrix[r][0] = 0\n    if row_zero:\n        for c in range(cols): matrix[0][c] = 0"
                }
            ]
        }
    }
}