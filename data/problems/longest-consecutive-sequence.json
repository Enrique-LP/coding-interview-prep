{
    "id": "longest-consecutive-sequence",
    "title": "Longest Consecutive Sequence",
    "description": "Given an unsorted array of integers nums, return the length of the longest consecutive elements sequence. You must write an algorithm that runs in O(n) time.",
    "examples": [
        {
            "input": "nums = [100,4,200,1,3,2]",
            "output": "4",
            "explanation": "The longest consecutive elements sequence is [1, 2, 3, 4]. Therefore its length is 4."
        },
        {
            "input": "nums = [0,3,7,2,5,8,4,6,0,1]",
            "output": "9"
        }
    ],
    "constraints": [
        "0 <= nums.length <= 10^5",
        "-10^9 <= nums[i] <= 10^9"
    ],
    "difficulty": "Medium",
    "topic": "Arrays & Hashing",
    "strategies": {
        "brute-force": {
            "id": "brute-force",
            "name": "Sorting",
            "description": "Sort and count consecutive.",
            "steps": [
                {
                    "id": 1,
                    "instruction": "Define the function longest_consecutive that takes nums.",
                    "placeholderCode": "def longest_consecutive(nums):",
                    "validationRegex": "^def\\s+longest_consecutive\\(nums\\):$",
                    "hint": "Use `def` to define the function.",
                    "solutionCode": "def longest_consecutive(nums):"
                },
                {
                    "id": 2,
                    "instruction": "Handle empty case.",
                    "placeholderCode": "    if not nums: return 0",
                    "validationRegex": "^\\s+if\\s+not\\s+nums:\\s*return\\s+0$",
                    "hint": "Return 0 if `nums` is empty.",
                    "solutionCode": "    if not nums: return 0"
                },
                {
                    "id": 3,
                    "instruction": "Sort and iterate.",
                    "placeholderCode": "    nums.sort()\n    longest = 1\n    current = 1\n    for i in range(1, len(nums)):\n        if nums[i] != nums[i - 1]:\n            if nums[i] == nums[i - 1] + 1:\n                current += 1\n            else:\n                longest = max(longest, current)\n                current = 1\n    return max(longest, current)",
                    "validationRegex": "^\\s+nums\\.sort\\(\\)\\s*longest\\s*=\\s*1\\s*current\\s*=\\s*1\\s*for\\s+i\\s+in\\s+range\\(1,\\s*len\\(nums\\)\\):\\s*if\\s+nums\\[i\\]\\s*!=\\s*nums\\[i\\s*-\\s*1\\]:\\s*if\\s+nums\\[i\\]\\s*==\\s*nums\\[i\\s*-\\s*1\\]\\s*\\+\\s*1:\\s*current\\s*\\+=\\s*1\\s*else:\\s*longest\\s*=\\s*max\\(longest,\\s*current\\)\\s*current\\s*=\\s*1\\s*return\\s+max\\(longest,\\s*current\\)$",
                    "hint": "Sort the array. Iterate and increment `current` if consecutive. Reset `current` if not.",
                    "solutionCode": "    nums.sort()\n    longest = 1\n    current = 1\n    for i in range(1, len(nums)):\n        if nums[i] != nums[i - 1]:\n            if nums[i] == nums[i - 1] + 1:\n                current += 1\n            else:\n                longest = max(longest, current)\n                current = 1\n    return max(longest, current)"
                }
            ]
        },
        "optimal": {
            "id": "optimal",
            "name": "HashSet",
            "description": "Use set to check for sequence start.",
            "steps": [
                {
                    "id": 1,
                    "instruction": "Define the function longest_consecutive that takes nums.",
                    "placeholderCode": "def longest_consecutive(nums):",
                    "validationRegex": "^def\\s+longest_consecutive\\(nums\\):$",
                    "hint": "Use `def` to define the function.",
                    "solutionCode": "def longest_consecutive(nums):"
                },
                {
                    "id": 2,
                    "instruction": "Create set.",
                    "placeholderCode": "    numSet = set(nums)\n    longest = 0",
                    "validationRegex": "^\\s+numSet\\s*=\\s*set\\(nums\\)\\s*longest\\s*=\\s*0$",
                    "hint": "Convert `nums` to a set for O(1) lookups.",
                    "solutionCode": "    numSet = set(nums)\n    longest = 0"
                },
                {
                    "id": 3,
                    "instruction": "Iterate and check for start of sequence.",
                    "placeholderCode": "    for n in nums:\n        if (n - 1) not in numSet:\n            length = 0\n            while (n + length) in numSet:\n                length += 1\n            longest = max(length, longest)",
                    "validationRegex": "^\\s+for\\s+n\\s+in\\s+nums:\\s*if\\s*\\(n\\s*-\\s*1\\)\\s+not\\s+in\\s+numSet:\\s*length\\s*=\\s*0\\s*while\\s*\\(n\\s*\\+\\s*length\\)\\s+in\\s+numSet:\\s*length\\s*\\+=\\s*1\\s*longest\\s*=\\s*max\\(length,\\s*longest\\)$",
                    "hint": "If `n-1` is not in set, `n` is the start. Count consecutive numbers.\\n\\nExample:\\nSet={100, 4, 200, 1, 3, 2}.\\nn=1. 0 not in set -> Start.\\nCheck 2 in set? Yes. Check 3? Yes. Check 4? Yes. Check 5? No.\\nLength=4.",
                    "solutionCode": "    for n in nums:\n        if (n - 1) not in numSet:\n            length = 0\n            while (n + length) in numSet:\n                length += 1\n            longest = max(length, longest)"
                },
                {
                    "id": 4,
                    "instruction": "Return longest.",
                    "placeholderCode": "    return longest",
                    "validationRegex": "^\\s+return\\s+longest$",
                    "hint": "Return the maximum length found.",
                    "solutionCode": "    return longest"
                }
            ]
        }
    }
}