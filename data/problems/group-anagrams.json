{
    "id": "group-anagrams",
    "title": "Group Anagrams",
    "description": "Given an array of strings strs, group the anagrams together. You can return the answer in any order.",
    "examples": [
        {
            "input": "strs = [\"eat\",\"tea\",\"tan\",\"ate\",\"nat\",\"bat\"]",
            "output": "[[\"bat\"],[\"nat\",\"tan\"],[\"ate\",\"eat\",\"tea\"]]"
        },
        {
            "input": "strs = [\"\"]",
            "output": "[[\"\"]]"
        },
        {
            "input": "strs = [\"a\"]",
            "output": "[[\"a\"]]"
        }
    ],
    "constraints": [
        "1 <= strs.length <= 10^4",
        "0 <= strs[i].length <= 100",
        "strs[i] consists of lowercase English letters."
    ],
    "difficulty": "Medium",
    "topic": "Array",
    "strategies": {
        "brute-force": {
            "id": "brute-force",
            "name": "Sorting",
            "description": "Sort each string to use as a key.",
            "steps": [
                {
                    "id": 1,
                    "instruction": "Define the function group_anagrams that takes a list of strings strs.",
                    "placeholderCode": "def group_anagrams(strs):",
                    "validationRegex": "^def\\s+group_anagrams\\(strs\\):$",
                    "hint": "Use `def` to define the function.",
                    "solutionCode": "def group_anagrams(strs):"
                },
                {
                    "id": 2,
                    "instruction": "Initialize a dictionary to map sorted strings to lists of anagrams.",
                    "placeholderCode": "    anagrams = {}",
                    "validationRegex": "^\\s+anagrams\\s*=\\s*\\{\\}$",
                    "hint": "Use `{}` to create an empty dictionary.",
                    "solutionCode": "    anagrams = {}"
                },
                {
                    "id": 3,
                    "instruction": "Iterate through each string in the input list.",
                    "placeholderCode": "    for s in strs:",
                    "validationRegex": "^\\s+for\\s+s\\s+in\\s+strs:$",
                    "hint": "Use a `for` loop to iterate through `strs`.",
                    "solutionCode": "    for s in strs:"
                },
                {
                    "id": 4,
                    "instruction": "Sort the string to create a key.",
                    "placeholderCode": "        key = tuple(sorted(s))",
                    "validationRegex": "^\\s+key\\s*=\\s*tuple\\(sorted\\(s\\)\\)$",
                    "hint": "Use `tuple(sorted(s))` to create a hashable key.\\n\\nExample:\\nIf s='eat', sorted(s)=['a','e','t'].\\nKey=('a','e','t'). This key groups 'tea' and 'ate' too.",
                    "solutionCode": "        key = tuple(sorted(s))"
                },
                {
                    "id": 5,
                    "instruction": "Append the original string to the list corresponding to the key.",
                    "placeholderCode": "        if key not in anagrams: anagrams[key] = []\n        anagrams[key].append(s)",
                    "validationRegex": "^\\s+if\\s+key\\s+not\\s+in\\s+anagrams:\\s*anagrams\\[key\\]\\s*=\\s*\\[\\]\\s*anagrams\\[key\\]\\.append\\(s\\)$",
                    "hint": "Check if key exists, then append.",
                    "solutionCode": "        if key not in anagrams: anagrams[key] = []\n        anagrams[key].append(s)"
                },
                {
                    "id": 6,
                    "instruction": "Return the values of the dictionary as a list of lists.",
                    "placeholderCode": "    return list(anagrams.values())",
                    "validationRegex": "^\\s+return\\s+list\\(anagrams\\.values\\(\\)\\)$",
                    "hint": "Use `.values()` and convert to `list`.",
                    "solutionCode": "    return list(anagrams.values())"
                }
            ]
        },
        "optimal": {
            "id": "optimal",
            "name": "Character Count",
            "description": "Use character counts as keys (optimization for long strings).",
            "steps": [
                {
                    "id": 1,
                    "instruction": "Define the function group_anagrams that takes a list of strings strs.",
                    "placeholderCode": "def group_anagrams(strs):",
                    "validationRegex": "^def\\s+group_anagrams\\(strs\\):$",
                    "hint": "Use `def` to define the function.",
                    "solutionCode": "def group_anagrams(strs):"
                },
                {
                    "id": 2,
                    "instruction": "Initialize a dictionary using default values of lists.",
                    "placeholderCode": "    from collections import defaultdict\n    ans = defaultdict(list)",
                    "validationRegex": "from\\s+collections\\s+import\\s+defaultdict.*ans\\s*=\\s*defaultdict\\(list\\)",
                    "hint": "Import `defaultdict` and initialize it with `list`.",
                    "solutionCode": "    from collections import defaultdict\n    ans = defaultdict(list)"
                },
                {
                    "id": 3,
                    "instruction": "Iterate through each string in the input list.",
                    "placeholderCode": "    for s in strs:",
                    "validationRegex": "^\\s+for\\s+s\\s+in\\s+strs:$",
                    "hint": "Iterate through `strs`.",
                    "solutionCode": "    for s in strs:"
                },
                {
                    "id": 4,
                    "instruction": "Initialize a count array of 26 zeros for lowercase letters.",
                    "placeholderCode": "        count = [0] * 26",
                    "validationRegex": "^\\s+count\\s*=\\s*\\[0\\]\\s*\\*\\s*26$",
                    "hint": "Create a list of 26 zeros.",
                    "solutionCode": "        count = [0] * 26"
                },
                {
                    "id": 5,
                    "instruction": "Count the frequency of each character in the string.",
                    "placeholderCode": "        for c in s:\n            count[ord(c) - ord('a')] += 1",
                    "validationRegex": "^\\s+for\\s+c\\s+in\\s+s:\\s*count\\[ord\\(c\\)\\s*-\\s*ord\\('a'\\)\\]\\s*\\+=\\s*1$",
                    "hint": "1. Find Index: Subtract ord('a') to map 'a'->0, 'b'->1. (e.g. 'a' is at index 0). Why subtract ord('a')? ASCII for 'a' is 97, but our list indices start at 0. If we used count[ord('a')], we'd crash trying to access index 97! By subtracting 97 (ord('a')), we shift values down: 'a' (97) - 97 = 0 (Index 0) 'b' (98) - 97 = 1 (Index 1) This maps 'a'...'z' perfectly to indices 0...25. 2. Count It: We access count[0] and do += 1. Basically: 'I found an \"a\", so go to box #0 and add one tally mark to it.'",
                    "solutionCode": "        for c in s:\n            count[ord(c) - ord('a')] += 1"
                },
                {
                    "id": 6,
                    "instruction": "Use the count tuple as a key to group anagrams.",
                    "placeholderCode": "        ans[tuple(count)].append(s)",
                    "validationRegex": "^\\s+ans\\[tuple\\(count\\)\\]\\.append\\(s\\)$",
                    "hint": "We combine 3 steps in 1 line: 1. `tuple(count)` converts list to tuple (valid dict key). 2. `ans[...]` accesses the group. **Crucial:** Since we used `defaultdict(list)`, if the key is new, it auto-creates an empty list `[]` for us. 3. `.append(s)` adds the word to that list.",
                    "solutionCode": "        ans[tuple(count)].append(s)"
                },
                {
                    "id": 7,
                    "instruction": "Return the grouped anagrams.",
                    "placeholderCode": "    return list(ans.values())",
                    "validationRegex": "^\\s+return\\s+list\\(ans\\.values\\(\\)\\)$",
                    "hint": "`ans.values()` returns a 'dict_values' view object (e.g. dict_values([['eat'...]])), NOT a list. We MUST wrap it with `list(...)` to convert it into the actual list data structure required by the solution.",
                    "solutionCode": "    return list(ans.values())"
                }
            ]
        }
    }
}